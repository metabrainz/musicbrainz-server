<%args>

	$url
	$max_items 			=> undef
	$update_interval 	=> 5*60
	$categories 		=> [ ]

</%args>
<%perl>

	my $feed = MusicBrainz::Server::NewsFeed->new(
		url => $url,
		update_interval => $update_interval,
		max_items => $max_items,
		categories => $categories,
	);

	$feed->Load() if defined $feed;

</%perl>

%   if (defined $feed) {
%	    foreach my $item ($feed->GetItems())
%	    {

					<div class="newsarticle">
						<b><% $item->GetTitle() %></b> &mdash;
						<% $item->GetDescription() |n  %>
						<div class="datetime">Posted: <% $item->GetDateTimeString() %></div>
						<div class="readmore">&raquo; <a href="<% $item->GetLink() %>">read more</a></div>
					</div>

%	    }
%   } else { 
        XML::RSS is not installed -- no newsfeeds shown.
%   } 

%# vi: set ts=4 sw=4 ft=mason :
