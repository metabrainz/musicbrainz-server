{
  title: 'The Downward Spiral',
  commands: [
    {
      command: 'open',
      target: '/release/add',
      value: '',
    },
    {
      command: 'pause',
      target: '1000',
      value: '',
    },
    {
      command: 'type',
      target: 'id=name',
      value: 'The Downword Spiral',
    },
    {
      command: 'pause',
      target: '1000',
      value: '',
    },
    {
      command: 'click',
      target: 'css=button.guesscase-title.icon',
      value: '',
    },
    {
      command: 'type',
      target: "id=ac-source-single-artist",
      value: 'nine inch nails',
    },
    {
      command: 'pause',
      target: '1000',
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//ul[@id='ac-source-single-artist-menu']//li[contains(@class, 'option-item')][contains(., 'Nine Inch Nails')]",
      value: '',
    },
    {
      command: 'select',
      target: 'id=primary-type',
      value: 'label=Single',
    },
    {
      command: 'runScript',
      target: "Array.prototype.find.call(document.querySelector('#secondary-types').options, x => x.textContent.trim() === 'Compilation').selected = true;",
      value: '',
    },
    {
      command: 'runScript',
      target: "Array.prototype.find.call(document.querySelector('#secondary-types').options, x => x.textContent.trim() === 'Demo').selected = true;",
      value: '',
    },
    {
      command: 'select',
      target: 'id=status',
      value: 'label=Bootleg',
    },
    {
      command: 'select',
      target: 'id=language',
      value: 'label=German',
    },
    {
      command: 'select',
      target: 'id=script',
      value: 'label=Symbols',
    },
    // Add an event with both a date and country.
    {
      command: 'type',
      target: 'id=event-date-0',
      value: '1995',
    },
    {
      command: 'select',
      target: 'id=country-0',
      value: 'label=United States',
    },
    // Add an event with just a date.
    {
      command: 'click',
      target: "xpath=//button[contains(text(), 'Add release event')]",
      value: '',
    },
    {
      command: 'type',
      target: "xpath=(//input[contains(@class, 'partial-date-month')])[2]",
      value: '12',
    },
    // Add an event with just a country.
    {
      command: 'click',
      target: "xpath=//button[contains(text(), 'Add release event')]",
      value: '',
    },
    {
      command: 'select',
      target: 'id=country-2',
      value: 'label=United States',
    },
    // Check that errors were displayed.
    {
      command: 'assertEval',
      target: "Array.prototype.filter.call(window.document.querySelectorAll('.field-error'), x => x.textContent === 'You cannot use the same country more than once.' && x.style.display !== 'none').length",
      value: '2',
    },
    // Change the second country to France, and check that the errors are gone.
    {
      command: 'select',
      target: 'id=country-2',
      value: 'label=France',
    },
    {
      command: 'assertEval',
      target: "Array.prototype.filter.call(window.document.querySelectorAll('.field-error'), x => x.textContent === 'You cannot use the same country more than once.' && x.style.display !== 'none').length",
      value: '0',
    },
    // Add the first label/catalog number pair, pasting the MBID in.
    {
      command: 'type',
      target: 'id=label-0',
      value: '2182a316-c4bd-4605-936a-5e2fac52bdd2',
    },
    {
      command: 'fireEvent',
      target: 'id=label-0',
      value: 'input',
    },
    {
      command: 'type',
      target: 'id=catno-0',
      value: 'INTD‐92346',
    },
    // Add the second, with just a label, this time searching for it.
    {
      command: 'click',
      target: "xpath=//button[contains(text(), 'Add label')]",
      value: '',
    },
    {
      command: 'click',
      target: 'id=label-1',
      value: '',
    },
    {
      command: 'type',
      target: 'id=label-1',
      value: 'nothing',
    },
    {
      command: 'fireEvent',
      target: 'id=label-1',
      value: 'input',
    },
    {
      command: 'pause',
      target: '1000',
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//ul[contains(@class, 'ui-menu')][@data-input-id='label-1']/li[contains(., 'Nothing Records')]",
      value: '',
    },
    // Add the third release-label, with just a catalog number.
    {
      command: 'click',
      target: "xpath=//button[contains(text(), 'Add label')]",
      value: '',
    },
    {
      command: 'type',
      target: 'id=catno-2',
      value: 'INTD‐92346',
    },
    // Fill in the rest of the fields on the information page.
    {
      command: 'click',
      target: 'id=no-barcode',
      value: '',
    },
    {
      command: 'select',
      target: 'id=packaging',
      value: 'label=Digipak',
    },
    {
      command: 'type',
      target: 'id=annotation',
      value: 'also known as halo eight',
    },
    {
      command: 'type',
      target: 'id=comment',
      value: '.',
    },
    // Go to the tracklist tab.
    {
      command: 'click',
      target: "xpath=//a[@href='#tracklist']",
      value: '',
    },
    // Paste half of the tracklist into the track parser.
    {
      command: 'type',
      target: "xpath=//div[@id='add-medium-parser']//textarea[contains(@class, 'tracklist')]",
      value: 'A1 Mr Self Destruct - nin 4:31\nA2 Piggy - nin 4:24\nA3 Heresy - nin 3:54\nA4 March of the Pigs - nin 2:58\nA5 Closer - nin 6:13\nA6 Ruiner - nin 4:59\nA7 The Becoming - nin 5:32',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='add-medium-dialog']//input[@name='lines-have-numbers']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='add-medium-dialog']//input[@name='enable-vinyl-numbers']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='add-medium-dialog']//input[@name='lines-have-artists']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='add-medium-dialog']//input[@name='use-numbers']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='add-medium-dialog']//input[@name='use-artists']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='add-medium-dialog']//input[@name='use-titles']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='add-medium-dialog']//input[@name='use-lengths']",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//div[@id='add-medium-dialog']//button[contains(text(), 'Add medium')]",
      value: '',
    },
    // Fill in the track artists.
    {
      command: 'click',
      target: "xpath=(//tr[contains(@class, 'track')])[1]//button[contains(@class, 'open-ac')]",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//input[@id = 'change-matching-artists']",
      value: '',
    },
    {
      command: 'pause',
      target: '1000',
      value: '',
    },
    {
      command: 'type',
      target: "xpath=//div[@id='artist-credit-bubble']//input[contains(@id, 'artist')]",
      value: 'b7ffd2af-418f-4be2-bdd1-22f8b48613da',
    },
    {
      command: 'fireEvent',
      target: "xpath=//div[@id='artist-credit-bubble']//input[contains(@id, 'artist')]",
      value: 'input',
    },
    {
      command: 'pause',
      target: '500',
      value: '',
    },
    {
      command: 'type',
      target: "xpath=//div[@id='artist-credit-bubble']//input[contains(@id, 'credited-as')]",
      value: 'nin',
    },
    {
      command: 'click',
      target: "xpath=//div[@id='artist-credit-bubble']//button[text() = 'Done']",
      value: '',
    },
    // Add 7 more tracks.
    {
      command: 'type',
      target: 'css=div.add-tracks input[type=number]',
      value: '7',
    },
    {
      command: 'click',
      target: 'css=div.add-tracks button.add-item',
      value: '',
    },
    // Fill in the details for those by hand.
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[8]//input[contains(@class, 'track-name')]",
      value: 'big man with a gun',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[9]//input[contains(@class, 'track-name')]",
      value: 'i do not want this',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[10]//input[contains(@class, 'track-name')]",
      value: 'a warm place',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[11]//input[contains(@class, 'track-name')]",
      value: 'eraser',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[12]//input[contains(@class, 'track-name')]",
      value: 'reptile',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[13]//input[contains(@class, 'track-name')]",
      value: 'the downward spiral',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[14]//input[contains(@class, 'track-name')]",
      value: 'hurt',
    },
    // Incorrectly set pregap, data tracks.
    {
      command: 'check',
      target: "xpath=(//input[contains(@class, 'has-pregap')])[1]",
      value: '',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[1]//input[contains(@class, 'track-name')]",
      value: 'pregap',
    },
    {
      command: 'check',
      target: "xpath=(//input[contains(@class, 'has-data-tracks')])[1]",
      value: '',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@id, 'track-row-new')])[16]//input[contains(@class, 'track-name')]",
      value: 'data track',
    },
    // Guess case. First check that previews are shown only for modified tracks
    // while hovering over the button, and then click the button.
    {
      command: 'mouseOver',
      target: 'id=guess-case-button',
      value: '',
    },
    {
      command: 'assertEval',
      target: "document.querySelector('#tracklist table.medium tr.track:nth-child(8) td.title input.track-name').classList.contains('preview')",
      value: 'false',
    },
    {
      command: 'assertEval',
      target: "document.querySelector('#tracklist table.medium tr.track:nth-child(9) td.title input.track-name').classList.contains('preview')",
      value: 'true',
    },
    {
      command: 'assertValue',
      target: 'css=#tracklist table.medium tr.track:nth-child(9) td.title input',
      value: 'Big Man With a Gun',
    },
    {
      command: 'mouseOver',
      target: 'id=format-unknown',
      value: '',
    },
    {
      command: 'assertEval',
      target: "document.querySelector('#tracklist table.medium tr.track:nth-child(9) td.title input.track-name').classList.contains('preview')",
      value: 'false',
    },
    {
      command: 'assertValue',
      target: 'css=#tracklist table.medium tr.track:nth-child(9) td.title input.track-name',
      value: 'big man with a gun',
    },
    {
      command: 'click',
      target: 'id=guess-case-button',
      value: '',
    },
    {
      command: 'assertEval',
      target: "document.querySelector('#tracklist table.medium tr.track:nth-child(9) td.title input.track-name').classList.contains('preview')",
      value: 'false',
    },
    {
      command: 'assertValue',
      target: 'css=#tracklist table.medium tr.track:nth-child(9) td.title input.track-name',
      value: 'Big Man With a Gun',
    },
    // The background color should be changed for tracks whose names were modified (MBS-8217).
    {
      command: 'assertEval',
      target: "document.querySelector('#tracklist table.medium tr.track:nth-child(8) td.title input.track-name').classList.contains('modified')",
      value: 'false',
    },
    {
      command: 'assertEval',
      target: "document.querySelector('#tracklist table.medium tr.track:nth-child(9) td.title input.track-name').classList.contains('modified')",
      value: 'true',
    },
    // Focusing the modified track should clear the highlight.
    {
      command: 'click',
      target: 'css=#tracklist table.medium tr.track:nth-child(9) td.title input.track-name',
      value: '',
    },
    {
      command: 'assertEval',
      target: "document.querySelector('#tracklist table.medium tr.track:nth-child(9) td.title input.track-name').classList.contains('modified')",
      value: 'false',
    },
    // Set the format to "unknown."
    {
      command: 'check',
      target: 'id=format-unknown',
      value: '',
    },
    // Move on to the recordings tab.
    {
      command: 'click',
      target: "xpath=//a[@href='#recordings']",
      value: '',
    },
    // Set the first track to an existing recording, pasting an MBID.
    {
      command: 'click',
      target: "xpath=(//button[contains(@class, 'edit-track-recording')])[2]",
      value: '',
    },
    {
      command: 'type',
      target: "xpath=//div[@id='recording-assoc-bubble']//span[contains(@class, 'autocomplete')]//input[contains(@class, 'name')]",
      value: '96f64611-49df-4e54-84e7-0f9a30f01766',
    },
    // Set the first track to an existing recording, searching for it.
    {
      command: 'click',
      target: "xpath=(//button[contains(@class, 'edit-track-recording')])[3]",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//div[@id='recording-assoc-bubble']//span[contains(@class, 'autocomplete')]//img[contains(@class, 'search')]",
      value: '',
    },
    {
      command: 'pause',
      target: '1000',
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//li[contains(@class, 'ui-menu-item')][contains(., 'Piggy')]",
      value: '',
    },
    // Copy the first track title to the recording.
    {
      command: 'check',
      target: "xpath=(//input[contains(@class, 'update-recording-title')])[1]",
      value: '',
    },
    // Copy the second track artist credit to the recording.
    {
      command: 'check',
      target: "xpath=(//input[contains(@class, 'update-recording-artist')])[2]",
      value: '',
    },
    // Go to the edit note tab and submit.
    {
      command: 'click',
      target: "xpath=//a[@href='#edit-note']",
      value: '',
    },
    {
      command: 'type',
      target: 'id=edit-note-text',
      value: 'disc in hand',
    },
    {
      command: 'clickAndWait',
      target: 'id=enter-edit',
      value: '',
    },
    // Check that the submitted release information is "correct."
    {
      command: 'assertText',
      target: 'css=h1',
      value: 'The Downword Spiral (.)',
    },
    {
      command: 'assertTextMatches',
      target: 'css=h1 + p.subheader',
      value: 'Release by Nine Inch Nails',
    },
    {
      command: 'assertText',
      target: 'css=.annotation-body',
      value: 'also known as halo eight',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelectorAll('table.medium > tbody > tr')).slice(1).map(x => Array.from(x.querySelectorAll('td')).filter(x => !x.classList.contains('rating')).map(x => x.textContent.trim().replace(/\\s*(Recording artist:)\\s*([^\\n]+)/, '\\t$1 $2')).join('\\t')).join('\\n')",
      value: '0\tPregap\tNine Inch Nails\t?:??\nA1\tMr Self Destruct\tRecording artist: Nine Inch Nails\tnin\t4:31\nA2\tPiggy\tRecording artist: Nine Inch Nails\tnin\t4:24\nA3\tHeresy\tnin\t3:54\nA4\tMarch of the Pigs\tnin\t2:58\nA5\tCloser\tnin\t6:13\nA6\tRuiner\tnin\t4:59\nA7\tThe Becoming\tnin\t5:32\n8\tBig Man With a Gun\tNine Inch Nails\t?:??\n9\tI Do Not Want This\tNine Inch Nails\t?:??\n10\tA Warm Place\tNine Inch Nails\t?:??\n11\tEraser\tNine Inch Nails\t?:??\n12\tReptile\tNine Inch Nails\t?:??\n13\tThe Downward Spiral\tNine Inch Nails\t?:??\n14\tHurt\tNine Inch Nails\t?:??\nData tracks\n15\t[data track]\tNine Inch Nails\t?:??',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelector('h2.release-information + dl.properties').children).map(function (node) { return node.textContent }).join('\\n')",
      value: 'Barcode:\n[none]\nFormat:\n(unknown)',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelector('h2.additional-details + dl.properties').children).map(function (node) { return node.textContent }).join('\\n')",
      value: 'Type:\nSingle\nPackaging:\nDigipak\nStatus:\nBootleg\nLanguage:\nGerman\nScript:\nSymbols\nData quality:\nNormal',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelectorAll('h2.labels + ul.links > li')).map(x => Array.from(x.childNodes).map(y => y.textContent.trim()).filter(x => x).join('\\t')).join('\\n')",
      value: 'Interscope Records\tINTD‐92346\nINTD‐92346\nNothing Records',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelectorAll('.release-events-container .release-event')).map(x => Array.from(x.childNodes).map(y => y.textContent.trim()).filter(x => x).join('\\t')).join('\\n')",
      value: 'United States\t1995\n????-12\nFrance',
    },
    // Check that the correct edits were entered.
    {
      command: 'assertEditData',
      target: 1,
      value: {
        type: 20,
        status: 2,
        data: {
          name: 'The Downword Spiral',
          comment: '',
          type_id: 2,
          entity_id: 1,
          entity_gid: '$$__IGNORE__$$',
          artist_credit: {
            names: [
              {
                name: 'Nine Inch Nails',
                artist: {
                  id: 347,
                  name: 'Nine Inch Nails',
                },
                join_phrase: '',
              },
            ],
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 2,
      value: {
        type: 31,
        status: 2,
        data: {
          name: 'The Downword Spiral',
          events: [
            {
              date: {
                year: 1995,
              },
              country_id: 222,
            },
            {
              date: {
                month: 12,
              },
              country_id: null,
            },
            {
              date: {},
              country_id: 73,
            },
          ],
          barcode: '',
          comment: '.',
          entity_id: 1,
          script_id: 112,
          status_id: 3,
          entity_gid: '$$__IGNORE__$$',
          language_id: 145,
          packaging_id: 3,
          artist_credit: {
            names: [
              {
                name: 'Nine Inch Nails',
                artist: {
                  id: 347,
                  gid: 'b7ffd2af-418f-4be2-bdd1-22f8b48613da',
                  name: 'Nine Inch Nails',
                },
                join_phrase: null,
              },
            ],
          },
          release_group_id: 1,
        },
      },
    },
    {
      command: 'assertEditData',
      target: 3,
      value: {
        type: 34,
        status: 2,
        data: {
          label: {
            id: 620,
            gid: '2182a316-c4bd-4605-936a-5e2fac52bdd2',
            name: 'Interscope Records',
          },
          release: {
            id: 1,
            gid: '$$__IGNORE__$$',
            name: 'The Downword Spiral',
          },
          entity_id: 1,
          catalog_number: 'INTD‐92346',
        },
      },
    },
    {
      command: 'assertEditData',
      target: 4,
      value: {
        type: 34,
        status: 2,
        data: {
          label: {
            id: 399,
            gid: '4b5cba06-6a79-454c-91f5-3fe220d4950d',
            name: 'Nothing Records',
          },
          release: {
            id: 1,
            gid: '$$__IGNORE__$$',
            name: 'The Downword Spiral',
          },
          entity_id: 2,
          catalog_number: null,
        },
      },
    },
    {
      command: 'assertEditData',
      target: 5,
      value: {
        type: 34,
        status: 2,
        data: {
          label: null,
          release: {
            id: 1,
            gid: '$$__IGNORE__$$',
            name: 'The Downword Spiral',
          },
          entity_id: 3,
          catalog_number: 'INTD‐92346',
        },
      },
    },
    {
      command: 'assertEditData',
      target: 6,
      value: {
        type: 72,
        status: 2,
        data: {
          new: {
            name: 'Mr Self Destruct',
          },
          old: {
            name: 'mr self destruct',
          },
          entity: {
            id: 164872,
            gid: '96f64611-49df-4e54-84e7-0f9a30f01766',
            name: 'mr self destruct',
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 7,
      value: {
        type: 72,
        status: 1,
        data: {
          new: {
            artist_credit: {
              names: [
                {
                  name: 'nin',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          old: {
            artist_credit: {
              names: [
                {
                  name: 'Nine Inch Nails',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          entity: {
            id: 164873,
            gid: '429f0b1a-0293-4793-993b-0bb5f73567f2',
            name: 'Piggy',
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 8,
      value: {
        type: 51,
        status: 2,
        data: {
          name: '',
          release: {
            id: 1,
            name: 'The Downword Spiral',
          },
          position: 1,
          entity_id: 1,
          tracklist: [
            {
              id: null,
              name: 'Pregap',
              length: null,
              number: '0',
              position: 0,
              recording_id: 1,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Mr Self Destruct',
              length: 271000,
              number: 'A1',
              position: 1,
              recording_id: 164872,
              artist_credit: {
                names: [
                  {
                    name: 'nin',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Piggy',
              length: 264000,
              number: 'A2',
              position: 2,
              recording_id: 164873,
              artist_credit: {
                names: [
                  {
                    name: 'nin',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Heresy',
              length: 234000,
              number: 'A3',
              position: 3,
              recording_id: 2,
              artist_credit: {
                names: [
                  {
                    name: 'nin',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'March of the Pigs',
              length: 178000,
              number: 'A4',
              position: 4,
              recording_id: 3,
              artist_credit: {
                names: [
                  {
                    name: 'nin',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Closer',
              length: 373000,
              number: 'A5',
              position: 5,
              recording_id: 4,
              artist_credit: {
                names: [
                  {
                    name: 'nin',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Ruiner',
              length: 299000,
              number: 'A6',
              position: 6,
              recording_id: 5,
              artist_credit: {
                names: [
                  {
                    name: 'nin',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'The Becoming',
              length: 332000,
              number: 'A7',
              position: 7,
              recording_id: 6,
              artist_credit: {
                names: [
                  {
                    name: 'nin',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Big Man With a Gun',
              length: null,
              number: '8',
              position: 8,
              recording_id: 7,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'I Do Not Want This',
              length: null,
              number: '9',
              position: 9,
              recording_id: 8,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'A Warm Place',
              length: null,
              number: '10',
              position: 10,
              recording_id: 9,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Eraser',
              length: null,
              number: '11',
              position: 11,
              recording_id: 10,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Reptile',
              length: null,
              number: '12',
              position: 12,
              recording_id: 11,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'The Downward Spiral',
              length: null,
              number: '13',
              position: 13,
              recording_id: 12,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: 'Hurt',
              length: null,
              number: '14',
              position: 14,
              recording_id: 13,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '0',
            },
            {
              id: null,
              name: '[data track]',
              length: null,
              number: '15',
              position: 15,
              recording_id: 14,
              artist_credit: {
                names: [
                  {
                    name: 'Nine Inch Nails',
                    artist: {
                      id: 347,
                      name: 'Nine Inch Nails',
                    },
                    join_phrase: '',
                  },
                ],
              },
              is_data_track: '1',
            },
          ],
        },
      },
    },
    {
      command: 'assertEditData',
      target: 9,
      value: {
        type: 35,
        status: 2,
        data: {
          text: 'also known as halo eight',
          entity: {
            id: 1,
            name: 'The Downword Spiral',
          },
          editor_id: 5,
          annotation_id: 1,
          old_annotation_id: null,
        },
      },
    },
    // Edit the release to fix our mistakes.
    {
      command: 'clickAndWait',
      target: 'css=.tabs a[href$="/edit"]',
      value: '',
    },
    {
      command: 'type',
      target: 'id=name',
      value: 'The Downward Spiral',
    },
    {
      command: 'select',
      target: 'id=status',
      value: 'label=Official',
    },
    {
      command: 'select',
      target: 'id=language',
      value: 'label=English',
    },
    {
      command: 'select',
      target: 'id=script',
      value: 'label=Latin',
    },
    {
      command: 'click',
      target: "xpath=(//button[contains(@class, 'remove-release-event')])[1]",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=(//button[contains(@class, 'remove-release-event')])[1]",
      value: '',
    },
    {
      command: 'type',
      target: "xpath=(//input[contains(@class, 'partial-date-year')])[1]",
      value: '1994',
    },
    {
      command: 'type',
      target: "xpath=(//input[contains(@class, 'partial-date-month')])[1]",
      value: '3',
    },
    {
      command: 'type',
      target: "xpath=(//input[contains(@class, 'partial-date-day')])[1]",
      value: '8',
    },
    {
      command: 'select',
      target: 'id=country-0',
      value: 'label=United States',
    },
    {
      command: 'type',
      target: 'id=catno-0',
      value: '92346-2',
    },
    {
      command: 'type',
      target: 'id=label-1',
      value: 'c9117237-b78b-4e47-b452-c9d94fb34916',
    },
    {
      command: 'type',
      target: 'id=catno-1',
      value: '92346-2',
    },
    {
      command: 'uncheck',
      target: 'id=no-barcode',
      value: '',
    },
    {
      command: 'type',
      target: 'id=barcode',
      value: '765449234620',
    },
    {
      command: 'select',
      target: 'id=packaging',
      value: 'label=Jewel Case',
    },
    {
      command: 'type',
      target: 'id=comment',
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//a[@href='#tracklist']",
      value: '',
    },
    {
      command: 'select',
      target: 'id=medium-format-1',
      value: 'label=CD',
    },
    {
      command: 'uncheck',
      target: "xpath=(//input[contains(@class, 'has-pregap')])[1]",
      value: '',
    },
    {
      command: 'uncheck',
      target: "xpath=(//input[contains(@class, 'has-data-tracks')])[1]",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=(//button[contains(@class, 'remove-track')])[1]",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=(//button[contains(@class, 'remove-track')])[15]",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=(//button[contains(@class, 'track-down')])[8]",
      value: '',
    },
    // Use the track parser to fix half of the tracks, and manually fix the rest.
    {
      command: 'click',
      target: 'css=button.open-track-parser',
      value: '',
    },
    {
      command: 'type',
      target: "xpath=//div[@id='track-parser-dialog']//textarea[contains(@class, 'tracklist')]",
      value: 'A1. Mr Self Destruct (4:31)\nA2. Piggy (4:24)\nA3. Heresy (3:54)\nA4. March of the Pigs (2:58)\nA5. Closer (6:13)\nA6. Ruiner (4:59)\nA7. The Becoming (5:32)\nB1. I Do Not Want This (5:41)\nB2. Big Man With a Gun (1:36)\nB3. A Warm Place (3:23)\nB4. Eraser (4:54)\n12. Reptile (?:??)\n13. The Downward Spiral (?:??)\n14. Hurt (?:??)',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='track-parser-dialog']//input[@name='lines-have-numbers']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='track-parser-dialog']//input[@name='enable-vinyl-numbers']",
      value: '',
    },
    {
      command: 'uncheck',
      target: "xpath=//div[@id='track-parser-dialog']//input[@name='lines-have-artists']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='track-parser-dialog']//input[@name='use-numbers']",
      value: '',
    },
    {
      command: 'uncheck',
      target: "xpath=//div[@id='track-parser-dialog']//input[@name='use-artists']",
      value: '',
    },
    {
      command: 'uncheck',
      target: "xpath=//div[@id='track-parser-dialog']//input[@name='use-titles']",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//div[@id='track-parser-dialog']//input[@name='use-lengths']",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//div[@id='track-parser-dialog']//button[contains(text(), 'Parse tracks')]",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//div[@id='track-parser-dialog']//button[contains(text(), 'Close')]",
      value: '',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@class, 'track')])[12]//input[contains(@class, 'pos')]",
      value: 'B5',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@class, 'track')])[12]//input[contains(@class, 'track-length')]",
      value: '6:52',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@class, 'track')])[13]//input[contains(@class, 'pos')]",
      value: 'B6',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@class, 'track')])[13]//input[contains(@class, 'track-length')]",
      value: '3:57',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@class, 'track')])[14]//input[contains(@class, 'pos')]",
      value: 'B7',
    },
    {
      command: 'type',
      target: "xpath=(//tr[contains(@class, 'track')])[14]//input[contains(@class, 'track-length')]",
      value: '6:14',
    },
    {
      command: 'click',
      target: "xpath=(//tr[contains(@class, 'track')])[1]//button[contains(@class, 'open-ac')]",
      value: '',
    },
    {
      command: 'check',
      target: "xpath=//input[@id = 'change-matching-artists']",
      value: '',
    },
    {
      command: 'pause',
      target: '500',
      value: '',
    },
    {
      command: 'type',
      target: "xpath=//div[@id='artist-credit-bubble']//input[contains(@id, 'credited-as')]",
      value: 'Nine Inch Nails',
    },
    {
      command: 'click',
      target: "xpath=//div[@id='artist-credit-bubble']//button[text() = 'Done']",
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//a[@href='#recordings']",
      value: '',
    },
    {
      command: 'check',
      target: 'id=update-all-recording-artists',
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//a[@href='#edit-note']",
      value: '',
    },
    {
      command: 'clickAndWait',
      target: 'id=enter-edit',
      value: '',
    },
    // Check that the submitted release information is correct.
    {
      command: 'assertText',
      target: 'css=h1',
      value: 'The Downward Spiral',
    },
    {
      command: 'assertTextMatches',
      target: 'css=h1 + p.subheader',
      value: 'Release by Nine Inch Nails',
    },
    {
      command: 'assertText',
      target: 'css=.annotation-body',
      value: 'also known as halo eight',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelectorAll('table.medium > tbody > tr')).slice(1).map(x => Array.from(x.querySelectorAll('td')).filter(x => !x.classList.contains('rating')).map(x => x.textContent.trim().replace(/\\s*(Recording artist:)\\s*([^\\n]+)/, '\\t$1 $2')).join('\\t')).join('\\n')",
      value: 'A1\tMr Self Destruct\t4:31\nA2\tPiggy\t4:24\nA3\tHeresy\tRecording artist: nin\t3:54\nA4\tMarch of the Pigs\tRecording artist: nin\t2:58\nA5\tCloser\tRecording artist: nin\t6:13\nA6\tRuiner\tRecording artist: nin\t4:59\nA7\tThe Becoming\tRecording artist: nin\t5:32\nB1\tI Do Not Want This\t5:41\nB2\tBig Man With a Gun\t1:36\nB3\tA Warm Place\t3:23\nB4\tEraser\t4:54\nB5\tReptile\t6:52\nB6\tThe Downward Spiral\t3:57\nB7\tHurt\t6:14',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelector('h2.release-information + dl.properties').children).map(function (node) { return node.textContent }).join('\\n')",
      value: 'Barcode:\n765449234620\nFormat:\nCD\nLength:\n1:05:08',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelector('h2.additional-details + dl.properties').children).map(function (node) { return node.textContent }).join('\\n')",
      value: 'Type:\nSingle\nPackaging:\nJewel Case\nStatus:\nOfficial\nLanguage:\nEnglish\nScript:\nLatin\nData quality:\nNormal',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelectorAll('h2.labels + ul.links > li')).map(x => Array.from(x.childNodes).map(y => y.textContent.trim()).filter(x => x).join('\\t')).join('\\n')",
      value: 'Interscope Records\t92346-2\nTVT Records\t92346-2\nNothing Records',
    },
    {
      command: 'assertEval',
      target: "Array.from(document.querySelectorAll('.release-events-container .release-event')).map(x => Array.from(x.childNodes).map(y => y.textContent.trim()).filter(x => x).join('\\t')).join('\\n')",
      value: 'United States\t1994-03-08',
    },
    {
      command: 'assertEditData',
      target: 10,
      value: {
        type: 32,
        status: 2,
        data: {
          new: {
            name: 'The Downward Spiral',
            events: [
              {
                date: {
                  day: 8,
                  year: 1994,
                  month: 3,
                },
                country_id: 222,
              },
            ],
            barcode: '765449234620',
            comment: '',
            script_id: 28,
            status_id: 1,
            language_id: 120,
            packaging_id: 1,
          },
          old: {
            name: 'The Downword Spiral',
            events: [
              {
                date: {
                  day: null,
                  year: 1995,
                  month: null,
                },
                country_id: 222,
              },
              {
                date: {
                  day: null,
                  year: null,
                  month: 12,
                },
                country_id: null,
              },
              {
                date: {
                  day: null,
                  year: null,
                  month: null,
                },
                country_id: 73,
              },
            ],
            barcode: '',
            comment: '.',
            script_id: '112',
            status_id: '3',
            language_id: '145',
            packaging_id: '3',
          },
          entity: {
            id: 1,
            gid: '$$__IGNORE__$$',
            name: 'The Downword Spiral',
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 11,
      value: {
        type: 37,
        status: 2,
        data: {
          new: {
            catalog_number: '92346-2',
          },
          old: {
            label: {
              id: 620,
              gid: '2182a316-c4bd-4605-936a-5e2fac52bdd2',
              name: 'Interscope Records',
            },
            catalog_number: 'INTD‐92346',
          },
          release: {
            id: 1,
            gid: '$$__IGNORE__$$',
            name: 'The Downward Spiral',
            events: [
              {
                date: '1994-03-08',
                country: {
                  id: 222,
                  gid: '489ce91b-6658-3307-9877-795b68554c98',
                  name: 'United States',
                },
              },
            ],
            barcode: '765449234620',
            medium_formats: [
              '(unknown)',
            ],
          },
          release_label_id: 1,
        },
      },
    },
    {
      command: 'assertEditData',
      target: 12,
      value: {
        type: 37,
        status: 2,
        data: {
          new: {
            label: {
              id: 403,
              gid: 'c9117237-b78b-4e47-b452-c9d94fb34916',
              name: 'TVT Records',
            },
            catalog_number: '92346-2',
          },
          old: {
            label: null,
            catalog_number: 'INTD‐92346',
          },
          release: {
            id: 1,
            gid: '$$__IGNORE__$$',
            name: 'The Downward Spiral',
            events: [
              {
                date: '1994-03-08',
                country: {
                  id: 222,
                  gid: '489ce91b-6658-3307-9877-795b68554c98',
                  name: 'United States',
                },
              },
            ],
            barcode: '765449234620',
            medium_formats: [
              '(unknown)',
            ],
          },
          release_label_id: 3,
        },
      },
    },
    {
      command: 'assertEditData',
      target: 13,
      value: {
        type: 72,
        status: 1,
        data: {
          new: {
            artist_credit: {
              names: [
                {
                  name: 'Nine Inch Nails',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          old: {
            artist_credit: {
              names: [
                {
                  name: 'nin',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          entity: {
            id: 2,
            gid: '$$__IGNORE__$$',
            name: 'Heresy',
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 14,
      value: {
        type: 72,
        status: 1,
        data: {
          new: {
            artist_credit: {
              names: [
                {
                  name: 'Nine Inch Nails',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          old: {
            artist_credit: {
              names: [
                {
                  name: 'nin',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          entity: {
            id: 3,
            gid: '$$__IGNORE__$$',
            name: 'March of the Pigs',
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 15,
      value: {
        type: 72,
        status: 1,
        data: {
          new: {
            artist_credit: {
              names: [
                {
                  name: 'Nine Inch Nails',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          old: {
            artist_credit: {
              names: [
                {
                  name: 'nin',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          entity: {
            id: 4,
            gid: '$$__IGNORE__$$',
            name: 'Closer',
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 16,
      value: {
        type: 72,
        status: 1,
        data: {
          new: {
            artist_credit: {
              names: [
                {
                  name: 'Nine Inch Nails',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          old: {
            artist_credit: {
              names: [
                {
                  name: 'nin',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          entity: {
            id: 5,
            gid: '$$__IGNORE__$$',
            name: 'Ruiner',
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 17,
      value: {
        type: 72,
        status: 1,
        data: {
          new: {
            artist_credit: {
              names: [
                {
                  name: 'Nine Inch Nails',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          old: {
            artist_credit: {
              names: [
                {
                  name: 'nin',
                  artist: {
                    id: 347,
                    name: 'Nine Inch Nails',
                  },
                  join_phrase: '',
                },
              ],
            },
          },
          entity: {
            id: 6,
            gid: '$$__IGNORE__$$',
            name: 'The Becoming',
          },
        },
      },
    },
    {
      command: 'assertEditData',
      target: 18,
      value: {
        type: 52,
        status: 2,
        data: {
          new: {
            format_id: 1,
            tracklist: [
              {
                id: 2,
                name: 'Mr Self Destruct',
                length: 271000,
                number: 'A1',
                position: 1,
                recording_id: 164872,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 3,
                name: 'Piggy',
                length: 264000,
                number: 'A2',
                position: 2,
                recording_id: 164873,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 4,
                name: 'Heresy',
                length: 234000,
                number: 'A3',
                position: 3,
                recording_id: 2,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 5,
                name: 'March of the Pigs',
                length: 178000,
                number: 'A4',
                position: 4,
                recording_id: 3,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 6,
                name: 'Closer',
                length: 373000,
                number: 'A5',
                position: 5,
                recording_id: 4,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 7,
                name: 'Ruiner',
                length: 299000,
                number: 'A6',
                position: 6,
                recording_id: 5,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 8,
                name: 'The Becoming',
                length: 332000,
                number: 'A7',
                position: 7,
                recording_id: 6,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 10,
                name: 'I Do Not Want This',
                length: 341000,
                number: 'B1',
                position: 8,
                recording_id: 8,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 9,
                name: 'Big Man With a Gun',
                length: 96000,
                number: 'B2',
                position: 9,
                recording_id: 7,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 11,
                name: 'A Warm Place',
                length: 203000,
                number: 'B3',
                position: 10,
                recording_id: 9,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 12,
                name: 'Eraser',
                length: 294000,
                number: 'B4',
                position: 11,
                recording_id: 10,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 13,
                name: 'Reptile',
                length: 412000,
                number: 'B5',
                position: 12,
                recording_id: 11,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 14,
                name: 'The Downward Spiral',
                length: 237000,
                number: 'B6',
                position: 13,
                recording_id: 12,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 15,
                name: 'Hurt',
                length: 374000,
                number: 'B7',
                position: 14,
                recording_id: 13,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
            ],
          },
          old: {
            format_id: null,
            tracklist: [
              {
                id: 1,
                name: 'Pregap',
                length: null,
                number: '0',
                position: 0,
                recording_id: 1,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 2,
                name: 'Mr Self Destruct',
                length: 271000,
                number: 'A1',
                position: 1,
                recording_id: 164872,
                artist_credit: {
                  names: [
                    {
                      name: 'nin',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 3,
                name: 'Piggy',
                length: 264000,
                number: 'A2',
                position: 2,
                recording_id: 164873,
                artist_credit: {
                  names: [
                    {
                      name: 'nin',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 4,
                name: 'Heresy',
                length: 234000,
                number: 'A3',
                position: 3,
                recording_id: 2,
                artist_credit: {
                  names: [
                    {
                      name: 'nin',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 5,
                name: 'March of the Pigs',
                length: 178000,
                number: 'A4',
                position: 4,
                recording_id: 3,
                artist_credit: {
                  names: [
                    {
                      name: 'nin',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 6,
                name: 'Closer',
                length: 373000,
                number: 'A5',
                position: 5,
                recording_id: 4,
                artist_credit: {
                  names: [
                    {
                      name: 'nin',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 7,
                name: 'Ruiner',
                length: 299000,
                number: 'A6',
                position: 6,
                recording_id: 5,
                artist_credit: {
                  names: [
                    {
                      name: 'nin',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 8,
                name: 'The Becoming',
                length: 332000,
                number: 'A7',
                position: 7,
                recording_id: 6,
                artist_credit: {
                  names: [
                    {
                      name: 'nin',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 9,
                name: 'Big Man With a Gun',
                length: null,
                number: '8',
                position: 8,
                recording_id: 7,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 10,
                name: 'I Do Not Want This',
                length: null,
                number: '9',
                position: 9,
                recording_id: 8,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 11,
                name: 'A Warm Place',
                length: null,
                number: '10',
                position: 10,
                recording_id: 9,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 12,
                name: 'Eraser',
                length: null,
                number: '11',
                position: 11,
                recording_id: 10,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 13,
                name: 'Reptile',
                length: null,
                number: '12',
                position: 12,
                recording_id: 11,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 14,
                name: 'The Downward Spiral',
                length: null,
                number: '13',
                position: 13,
                recording_id: 12,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 15,
                name: 'Hurt',
                length: null,
                number: '14',
                position: 14,
                recording_id: 13,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 16,
                name: '[data track]',
                length: null,
                number: '15',
                position: 15,
                recording_id: 14,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '1',
              },
            ],
          },
          release: {
            id: 1,
            name: 'The Downward Spiral',
          },
          entity_id: 1,
        },
      },
    },
    // Reset the track numbers.
    {
      command: 'clickAndWait',
      target: 'css=.tabs a[href$="/edit"]',
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//a[@href='#tracklist']",
      value: '',
    },
    {
      command: 'pause',
      target: '1000',
      value: '',
    },
    {
      command: 'click',
      target: 'css=button.reset-track-numbers',
      value: '',
    },
    {
      command: 'click',
      target: "xpath=//a[@href='#edit-note']",
      value: '',
    },
    {
      command: 'clickAndWait',
      target: 'id=enter-edit',
      value: '',
    },
    // Check that the submitted release information is correct.
    {
      command: 'assertEval',
      target: "Array.from(document.querySelectorAll('table.medium > tbody > tr')).slice(1).map(x => Array.from(x.querySelectorAll('td')).filter(x => !x.classList.contains('rating')).map(x => x.textContent.trim().replace(/\\s*(Recording artist:)\\s*([^\\n]+)/, '\\t$1 $2')).join('\\t')).join('\\n')",
      value: '1\tMr Self Destruct\t4:31\n2\tPiggy\t4:24\n3\tHeresy\tRecording artist: nin\t3:54\n4\tMarch of the Pigs\tRecording artist: nin\t2:58\n5\tCloser\tRecording artist: nin\t6:13\n6\tRuiner\tRecording artist: nin\t4:59\n7\tThe Becoming\tRecording artist: nin\t5:32\n8\tI Do Not Want This\t5:41\n9\tBig Man With a Gun\t1:36\n10\tA Warm Place\t3:23\n11\tEraser\t4:54\n12\tReptile\t6:52\n13\tThe Downward Spiral\t3:57\n14\tHurt\t6:14',
    },
    {
      command: 'assertEditData',
      target: 19,
      value: {
        type: 52,
        status: 2,
        data: {
          new: {
            tracklist: [
              {
                id: 2,
                name: 'Mr Self Destruct',
                length: 271000,
                number: '1',
                position: 1,
                recording_id: 164872,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 3,
                name: 'Piggy',
                length: 264000,
                number: '2',
                position: 2,
                recording_id: 164873,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 4,
                name: 'Heresy',
                length: 234000,
                number: '3',
                position: 3,
                recording_id: 2,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 5,
                name: 'March of the Pigs',
                length: 178000,
                number: '4',
                position: 4,
                recording_id: 3,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 6,
                name: 'Closer',
                length: 373000,
                number: '5',
                position: 5,
                recording_id: 4,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 7,
                name: 'Ruiner',
                length: 299000,
                number: '6',
                position: 6,
                recording_id: 5,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 8,
                name: 'The Becoming',
                length: 332000,
                number: '7',
                position: 7,
                recording_id: 6,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 10,
                name: 'I Do Not Want This',
                length: 341000,
                number: '8',
                position: 8,
                recording_id: 8,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 9,
                name: 'Big Man With a Gun',
                length: 96000,
                number: '9',
                position: 9,
                recording_id: 7,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 11,
                name: 'A Warm Place',
                length: 203000,
                number: '10',
                position: 10,
                recording_id: 9,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 12,
                name: 'Eraser',
                length: 294000,
                number: '11',
                position: 11,
                recording_id: 10,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 13,
                name: 'Reptile',
                length: 412000,
                number: '12',
                position: 12,
                recording_id: 11,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 14,
                name: 'The Downward Spiral',
                length: 237000,
                number: '13',
                position: 13,
                recording_id: 12,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 15,
                name: 'Hurt',
                length: 374000,
                number: '14',
                position: 14,
                recording_id: 13,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
            ],
          },
          old: {
            tracklist: [
              {
                id: 2,
                name: 'Mr Self Destruct',
                length: 271000,
                number: 'A1',
                position: 1,
                recording_id: 164872,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 3,
                name: 'Piggy',
                length: 264000,
                number: 'A2',
                position: 2,
                recording_id: 164873,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 4,
                name: 'Heresy',
                length: 234000,
                number: 'A3',
                position: 3,
                recording_id: 2,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 5,
                name: 'March of the Pigs',
                length: 178000,
                number: 'A4',
                position: 4,
                recording_id: 3,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 6,
                name: 'Closer',
                length: 373000,
                number: 'A5',
                position: 5,
                recording_id: 4,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 7,
                name: 'Ruiner',
                length: 299000,
                number: 'A6',
                position: 6,
                recording_id: 5,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 8,
                name: 'The Becoming',
                length: 332000,
                number: 'A7',
                position: 7,
                recording_id: 6,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 10,
                name: 'I Do Not Want This',
                length: 341000,
                number: 'B1',
                position: 8,
                recording_id: 8,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 9,
                name: 'Big Man With a Gun',
                length: 96000,
                number: 'B2',
                position: 9,
                recording_id: 7,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 11,
                name: 'A Warm Place',
                length: 203000,
                number: 'B3',
                position: 10,
                recording_id: 9,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 12,
                name: 'Eraser',
                length: 294000,
                number: 'B4',
                position: 11,
                recording_id: 10,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 13,
                name: 'Reptile',
                length: 412000,
                number: 'B5',
                position: 12,
                recording_id: 11,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 14,
                name: 'The Downward Spiral',
                length: 237000,
                number: 'B6',
                position: 13,
                recording_id: 12,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
              {
                id: 15,
                name: 'Hurt',
                length: 374000,
                number: 'B7',
                position: 14,
                recording_id: 13,
                artist_credit: {
                  names: [
                    {
                      name: 'Nine Inch Nails',
                      artist: {
                        id: 347,
                        name: 'Nine Inch Nails',
                      },
                      join_phrase: '',
                    },
                  ],
                },
                is_data_track: '0',
              },
            ],
          },
          release: {
            id: 1,
            name: 'The Downward Spiral',
          },
          entity_id: 1,
        },
      },
    },
  ],
}
